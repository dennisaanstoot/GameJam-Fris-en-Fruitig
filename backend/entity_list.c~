#include "entity_list.h"
#include <stdlib.h>

void add_entity(struct entity_list * list, struct entity * e)
{
        struct entity_list * curr = list;
        while(curr->next != NULL) 
        {
                curr = curr->next;
        }
        struct entity_list * new_list = malloc(sizeof(struct entity_list));
        new_list->e = e;
        new_list->next = 0;
        curr->next = new_list;
}

struct entity_list * remove_entity(struct entity_list * list, struct entity * e)
{
        struct entity_list * prev = NULL;
        struct entity_list * curr = list;
        int done = 0;
        while(!done)
        {
                if(e == curr->e)
                {
                        prev->next = curr->next;
                        free(curr);
                        if(curr == list)
                        {
                                list = list->next;
                        }
                        done = 1;
                }
                else if(curr->next == NULL)
                {
                        done = 1;
                }
                else
                {
                        prev = curr;
                        curr = curr->next;
                }
        }
        return list;
}
